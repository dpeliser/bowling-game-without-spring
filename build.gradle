apply plugin: 'java'
apply plugin: 'eclipse'

version = '1.0.0'
sourceCompatibility = 1.8
targetCompatibility = 1.8

ext {
    lombok = '1.18.20'
}

// Create a single Jar with all dependencies.
task fatJar(type: Jar) {
    manifest {
        attributes  'Implementation-Title': 'Greenfield Java Challenge Project',
                    'Implementation-Version': archiveVersion,
                    'Main-Class': 'com.javachallenge.JavaChallenge'
    }
    archivesBaseName = project.name
    from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}

repositories {
    mavenCentral()
}

dependencies {
    compileOnly "org.projectlombok:lombok:${lombok}"
    annotationProcessor 'org.projectlombok:lombok:1.18.20'

    testCompileOnly 'org.projectlombok:lombok:1.18.20'
    testAnnotationProcessor 'org.projectlombok:lombok:1.18.20'
}